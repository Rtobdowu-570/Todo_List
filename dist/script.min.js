"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Item=function e(t){_classCallCheck(this,e),this.text=t,this.id=Date.now(),this.completed=!1},UI=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"displayItems",value:function(){Store.getItems().forEach(function(e){return t.addItemToList(e)})}},{key:"addItemToList",value:function(e){var t=document.querySelector("#list-group"),n=document.createElement("li");n.className="list-group-item",n.setAttribute("data-id",e.id),e.completed&&n.classList.add("completed");var r=document.createElement("input");r.type="checkbox",r.className="form_checkbox",r.checked=e.completed,n.appendChild(r);var a=document.createElement("span");a.textContent=e.text,n.appendChild(a);var o=document.createElement("button");o.className="btn btn-danger",o.appendChild(document.createTextNode("X")),e.completed&&(o.disabled=!0,o.classList.add("unclickable")),n.appendChild(o),t.appendChild(n)}},{key:"toggleItem",value:function(e){var t=e.querySelector(".form_checkbox"),n=e.querySelector("btn-danger"),r=t.checked;e.classList.toggle("completed",r),r?(n.disabled=!0,n.classList.add("unclickable")):(n.disabled=!1,n.classList.remove("unclickable"))}},{key:"deleteItem",value:function(e){e.parentElement.remove()}},{key:"showAlert",value:function(e,t){var n=document.createElement("div");n.className="alert ".concat(t),n.textContent=e;var r=document.querySelector("#main"),a=document.querySelector("#form-control");r.insertBefore(n,a),setTimeout(function(){return n.remove()},2e3)}},{key:"searchItems",value:function(t){document.querySelectorAll(".list-group-item").forEach(function(e){e.querySelector("span").textContent.toLowerCase().includes(t.toLowerCase())?e.style.display="flex":e.style.display="none"})}},{key:"clearFields",value:function(){document.querySelector("#input").value=""}}]),t}(),Store=function(){function r(){_classCallCheck(this,r)}return _createClass(r,null,[{key:"getItems",value:function(){return null===localStorage.getItem("items")?[]:JSON.parse(localStorage.getItem("items"))}},{key:"addItems",value:function(e){var t=r.getItems();t.push(e),localStorage.setItem("items",JSON.stringify(t))}},{key:"removeItem",value:function(t){var e=r.getItems().filter(function(e){return e.id!==t});localStorage.setItem("items",JSON.stringify(e))}},{key:"updateItem",value:function(t){var e=r.getItems(),n=e.find(function(e){return e.id===t});return n&&(n.completed=!n.completed,localStorage.setItem("items",JSON.stringify(e))),!!n&&n.completed}}]),r}();document.addEventListener("DOMContentLoaded",UI.displayItems),document.querySelector("#form-control").addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#input").value;if(""===t)UI.showAlert("Please add an item","error");else{var n=new Item(t);UI.addItemToList(n),Store.addItems(n),UI.showAlert("Item Added","success"),UI.clearFields()}}),document.querySelector("#list-group").addEventListener("click",function(e){if(e.target.classList.contains("form_checkbox")){var t=e.target.closest(".list-group-item"),n=Number(t.getAttribute("data-id"));Store.updateItem(n),UI.toggleItem(t),UI.showAlert("Item Completed","success")}}),document.querySelector("#list-group").addEventListener("click",function(e){if(e.target.classList.contains("btn-danger")&&!e.target.disabled){var t=e.target.closest(".list-group-item"),n=Number(t.getAttribute("data-id"));UI.deleteItem(t),Store.removeItem(n),UI.showAlert("Item Deleted","success")}}),document.querySelector("#search").addEventListener("keyup",function(e){var t=e.target.value;UI.searchItems(t)});
//# sourceMappingURL=script.min.js.map
